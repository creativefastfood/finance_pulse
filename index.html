<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ü—É–ª—å—Å - –£—á–µ—Ç –ª–∏—á–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app">
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
        <nav class="sidebar">
            <div class="logo">
                <h1><i class="fas fa-chart-line"></i> –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ü—É–ª—å—Å</h1>
                <div class="sync-indicator" id="syncIndicator">
                    <i class="fas fa-circle" id="syncIcon"></i>
                    <span id="syncText">–õ–æ–∫–∞–ª—å–Ω–æ</span>
                </div>
            </div>
            <ul class="nav-menu">
                <li class="nav-item active" data-section="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>–ì–ª–∞–≤–Ω–∞—è</span>
                </li>
                <li class="nav-item" data-section="operations">
                    <i class="fas fa-exchange-alt"></i>
                    <span>–û–ø–µ—Ä–∞—Ü–∏–∏</span>
                </li>
                <li class="nav-item" data-section="analytics">
                    <i class="fas fa-chart-pie"></i>
                    <span>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</span>
                </li>
                <li class="nav-item" data-section="goals">
                    <i class="fas fa-bullseye"></i>
                    <span>–¶–µ–ª–∏</span>
                </li>
                <li class="nav-item" data-section="settings">
                    <i class="fas fa-cog"></i>
                    <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                </li>
            </ul>
        </nav>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="main-content">
            <!-- –°–µ–∫—Ü–∏—è Dashboard -->
            <section id="dashboard" class="content-section active">
                <header class="section-header">
                    <h2>–û–±–∑–æ—Ä —Ñ–∏–Ω–∞–Ω—Å–æ–≤</h2>
                    <div class="period-selector">
                        <select id="periodSelect">
                            <option value="current-month">–¢–µ–∫—É—â–∏–π –º–µ—Å—è—Ü</option>
                            <option value="last-month">–ü—Ä–æ—à–ª—ã–π –º–µ—Å—è—Ü</option>
                            <option value="current-quarter">–¢–µ–∫—É—â–∏–π –∫–≤–∞—Ä—Ç–∞–ª</option>
                            <option value="year">–ì–æ–¥</option>
                        </select>
                    </div>
                </header>
                
                <div class="dashboard-grid">
                    <div class="card balance-card">
                        <h3>–û–±—â–∏–π –±–∞–ª–∞–Ω—Å</h3>
                        <div class="balance-amount" id="totalBalance">+0 ‚ÇΩ</div>
                        <div class="balance-breakdown">
                            <div class="balance-item">
                                <span class="balance-label">üí∞ –ú–æ–π –±–∞–ª–∞–Ω—Å:</span>
                                <span class="balance-value" id="myBalance">0 ‚ÇΩ</span>
                            </div>
                            <div class="balance-item">
                                <span class="balance-label">üê± –ë–∞–ª–∞–Ω—Å –ö–æ—à–∫–∏:</span>
                                <span class="balance-value" id="catBalance">0 ‚ÇΩ</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card income-card">
                        <h3>–í—Å–µ–≥–æ –¥–æ—Ö–æ–¥–æ–≤</h3>
                        <div class="amount" id="totalIncome">0 ‚ÇΩ</div>
                        <div class="breakdown">
                            <div>–û—Å–Ω–æ–≤–Ω–æ–π: <span id="mainIncome">0 ‚ÇΩ</span></div>
                            <div>–°—Ç–æ—Ä–æ–Ω–Ω–∏–π: <span id="sideIncome">0 ‚ÇΩ</span></div>
                        </div>
                    </div>
                    
                    <div class="card expense-card">
                        <h3>–í—Å–µ–≥–æ —Ä–∞—Å—Ö–æ–¥–æ–≤</h3>
                        <div class="amount" id="totalExpenses">0 ‚ÇΩ</div>
                        <div class="breakdown">
                            <div>–õ–∏—á–Ω—ã–µ: <span id="personalExpenses">0 ‚ÇΩ</span></div>
                            <div>–ù–∞ –ø–æ–¥—Ä–∞–±–æ—Ç–∫—É: <span id="businessExpenses">0 ‚ÇΩ</span></div>
                        </div>
                    </div>
                    
                    <div class="card profit-card">
                        <h3>–ü—Ä–∏–±—ã–ª—å –æ—Ç –ø–æ–¥—Ä–∞–±–æ—Ç–∫–∏</h3>
                        <div class="amount" id="sideProfit">0 ‚ÇΩ</div>
                    </div>
                    
                    <div class="card chart-card">
                        <h3>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤</h3>
                        <canvas id="expensesChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- –°–µ–∫—Ü–∏—è –û–ø–µ—Ä–∞—Ü–∏–∏ -->
            <section id="operations" class="content-section">
                <header class="section-header">
                    <h2>–û–ø–µ—Ä–∞—Ü–∏–∏</h2>
                    <button class="btn btn-primary" id="addOperationBtn">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
                    </button>
                </header>
                
                <div class="tabs">
                    <button class="tab-btn active" data-tab="all">–í—Å–µ</button>
                    <button class="tab-btn" data-tab="income">–î–æ—Ö–æ–¥—ã</button>
                    <button class="tab-btn" data-tab="expenses">–†–∞—Å—Ö–æ–¥—ã</button>
                </div>
                
                <div class="filters">
                    <input type="date" id="dateFrom" placeholder="–î–∞—Ç–∞ –æ—Ç">
                    <input type="date" id="dateTo" placeholder="–î–∞—Ç–∞ –¥–æ">
                    <select id="categoryFilter">
                        <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                    </select>
                    <select id="ownerFilter">
                        <option value="">–í—Å–µ –≤–ª–∞–¥–µ–ª—å—Ü—ã</option>
                        <option value="me">–Ø</option>
                        <option value="cat">–ö–æ—à–∫–∞</option>
                    </select>
                    <input type="text" id="commentFilter" placeholder="–ü–æ–∏—Å–∫ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö">
                    <button class="btn btn-secondary" id="applyFilters">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                    <button class="btn btn-secondary" id="clearFilters">–û—á–∏—Å—Ç–∏—Ç—å</button>
                </div>
                
                <div class="operations-table">
                    <table id="operationsTable">
                        <thead>
                            <tr>
                                <th>–î–∞—Ç–∞</th>
                                <th>–°—É–º–º–∞</th>
                                <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                                <th>–¢–∏–ø</th>
                                <th>–í–ª–∞–¥–µ–ª–µ—Ü</th>
                                <th>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="operationsTableBody">
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- –°–µ–∫—Ü–∏—è –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ -->
            <section id="analytics" class="content-section">
                <header class="section-header">
                    <h2>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h2>
                    <div class="period-selector">
                        <select id="analyticsPeriod">
                            <option value="6months">–ü–æ—Å–ª–µ–¥–Ω–∏–µ 6 –º–µ—Å—è—Ü–µ–≤</option>
                            <option value="12months">–ü–æ—Å–ª–µ–¥–Ω–∏–µ 12 –º–µ—Å—è—Ü–µ–≤</option>
                            <option value="year">–¢–µ–∫—É—â–∏–π –≥–æ–¥</option>
                        </select>
                    </div>
                </header>
                
                <div class="analytics-grid">
                    <div class="card chart-card">
                        <h3>–î–∏–Ω–∞–º–∏–∫–∞ –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤</h3>
                        <canvas id="incomeExpensesChart"></canvas>
                    </div>
                    
                    <div class="card chart-card">
                        <h3>–ü—Ä–∏–±—ã–ª—å –æ—Ç –ø–æ–¥—Ä–∞–±–æ—Ç–∫–∏</h3>
                        <canvas id="sideProfitChart"></canvas>
                    </div>
                    
                    <div class="card chart-card">
                        <h3>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤</h3>
                        <canvas id="expensesPieChart"></canvas>
                    </div>
                    
                    <div class="card table-card">
                        <h3>–†–∞—Å—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h3>
                        <table id="expensesByCategoryTable">
                            <thead>
                                <tr>
                                    <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                                    <th>–°—É–º–º–∞</th>
                                    <th>%</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- –°–µ–∫—Ü–∏—è –¶–µ–ª–∏ -->
            <section id="goals" class="content-section">
                <header class="section-header">
                    <h2>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ü–µ–ª–∏</h2>
                    <button class="btn btn-primary" id="addGoalBtn">
                        <i class="fas fa-plus"></i> –°–æ–∑–¥–∞—Ç—å —Ü–µ–ª—å
                    </button>
                </header>
                
                <div class="goals-grid" id="goalsGrid">
                </div>
            </section>

            <!-- –°–µ–∫—Ü–∏—è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
            <section id="settings" class="content-section">
                <header class="section-header">
                    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                </header>
                
                <div class="settings-tabs">
                    <button class="tab-btn active" data-tab="categories">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</button>
                    <button class="tab-btn" data-tab="profile">–ü—Ä–æ—Ñ–∏–ª—å</button>
                    <button class="tab-btn" data-tab="data">–î–∞–Ω–Ω—ã–µ</button>
                </div>
                
                <div class="settings-content">
                    <div id="categories-tab" class="tab-content active">
                        <div class="categories-section">
                            <h3>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ—Ö–æ–¥–æ–≤</h3>
                            <div class="category-list" id="incomeCategories">
                            </div>
                            <button class="btn btn-secondary" id="addIncomeCategoryBtn">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</button>
                        </div>
                        
                        <div class="categories-section">
                            <h3>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤</h3>
                            <div class="category-list" id="expenseCategories">
                            </div>
                            <button class="btn btn-secondary" id="addExpenseCategoryBtn">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</button>
                        </div>
                    </div>
                    
                    <div id="profile-tab" class="tab-content">
                        <div class="form-group">
                            <label>–í–∞–ª—é—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</label>
                            <select id="defaultCurrency">
                                <option value="RUB">–†—É–±–ª—å (‚ÇΩ)</option>
                                <option value="USD">–î–æ–ª–ª–∞—Ä ($)</option>
                                <option value="EUR">–ï–≤—Ä–æ (‚Ç¨)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div id="data-tab" class="tab-content">
                        <div class="cloud-sync-section">
                            <h4>–°–æ–≤–º–µ—Å—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º</h4>
                            <p>–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ —Å –¥—Ä—É–≥–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</p>
                            <div class="form-group">
                                <label for="cloudDataId">ID –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:</label>
                                <input type="text" id="cloudDataId" placeholder="–í–≤–µ–¥–∏—Ç–µ ID –∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ">
                            </div>
                            <div class="sync-actions">
                                <button class="btn btn-primary" id="saveToCloudBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –æ–±–ª–∞–∫–µ</button>
                                <button class="btn btn-secondary" id="loadFromCloudBtn">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ –æ–±–ª–∞–∫–∞</button>
                                <button class="btn btn-secondary" id="autoSyncBtn">–í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é</button>
                            </div>
                            <div id="syncStatus" class="sync-status"></div>
                        </div>
                        
                        <hr style="margin: 2rem 0;">
                        
                        <h4>–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ</h4>
                        <button class="btn btn-secondary" id="exportDataBtn">–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</button>
                        <button class="btn btn-danger" id="clearDataBtn">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ -->
    <div id="operationModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>–î–æ–±–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é</h3>
            <form id="operationForm">
                <div class="form-group">
                    <label>–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏</label>
                    <div class="radio-group">
                        <input type="radio" id="income" name="type" value="income" checked>
                        <label for="income">–î–æ—Ö–æ–¥</label>
                        <input type="radio" id="expense" name="type" value="expense">
                        <label for="expense">–†–∞—Å—Ö–æ–¥</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="amount">–°—É–º–º–∞</label>
                    <input type="number" id="amount" name="amount" required>
                </div>
                
                <div class="form-group">
                    <label for="subtype">–ü–æ–¥—Ç–∏–ø</label>
                    <select id="subtype" name="subtype" required>
                        <option value="main">–û—Å–Ω–æ–≤–Ω–æ–π</option>
                        <option value="side">–°—Ç–æ—Ä–æ–Ω–Ω–∏–π</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="owner">–í–ª–∞–¥–µ–ª–µ—Ü</label>
                    <select id="owner" name="owner" required>
                        <option value="me">–Ø</option>
                        <option value="cat">–ö–æ—à–∫–∞</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <select id="category" name="category" required>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="date">–î–∞—Ç–∞</label>
                    <input type="date" id="date" name="date" required>
                </div>
                
                <div class="form-group">
                    <label for="comment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
                    <textarea id="comment" name="comment"></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('operationModal')">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ü–µ–ª–∏ -->
    <div id="goalModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>–°–æ–∑–¥–∞—Ç—å —Ü–µ–ª—å</h3>
            <form id="goalForm">
                <div class="form-group">
                    <label for="goalName">–ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏</label>
                    <input type="text" id="goalName" name="goalName" required>
                </div>
                
                <div class="form-group">
                    <label for="goalAmount">–¢—Ä–µ–±—É–µ–º–∞—è —Å—É–º–º–∞</label>
                    <input type="number" id="goalAmount" name="goalAmount" required>
                </div>
                
                <div class="form-group">
                    <label for="currentAmount">–£–∂–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–æ</label>
                    <input type="number" id="currentAmount" name="currentAmount" value="0">
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('goalModal')">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
    <button class="fab" id="fabBtn">
        <i class="fas fa-plus"></i>
    </button>

    <script src="script.js"></script>
</body>
</html>